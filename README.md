# 工場実績入力アプリ（Factory Input App）

Android端末向けに開発された、生産実績の入力・管理・送信を行う業務用Flutterアプリです。  
オフライン環境でも動作し、CSV保存・SMTPによるファイル送信・設定管理などを備えています。

---

## 📱 機能概要

| 機能              | 内容                                                                 |
|-------------------|----------------------------------------------------------------------|
| 🔢 実績データ入力   | テンキーで数値を入力。製品名・担当者はドロップダウン選択方式         |
| 📂 CSV保存         | 日付・部署ごとにCSV形式で保存（例: `FD1_2025-07-27.csv`）           |
| 📆 日付選択        | 登録済みデータは左ペインに日付別に表示／削除可能                   |
| 📨 メール送信       | 添付ファイル付きで設定済みのSMTP経由で送信                          |
| ⚙ 設定管理         | SMTP情報および部署名は `SharedPreferences` 経由で保存／編集可能     |
| 📦 外部データ読込   | 製品・担当者・工程・荷姿のリストをテキストファイルから動的に読込     |

---

## 🛠 使用技術

- Flutter 3.x
- Dart 3.x
- `shared_preferences`
- `path_provider`
- `mailer`（SMTP送信）
- `intl`（日付フォーマット）
- `uuid`（ユニークID生成）

---

## 🔧 インストール方法

1. `release/app-release.apk` をダウンロード
2. Android端末にコピー（メール添付またはUSB経由）
3. セキュリティ設定から「提供元不明のアプリ」を許可
4. APKを開いてインストール
5. 初回起動後、設定画面からSMTP情報および部署名を入力

---

## 🗂 ファイル構成（主要ファイル）

```
lib/
├── main.dart              # エントリーポイント
├── input_screen.dart      # 実績入力画面
├── file_saver.dart        # CSV保存処理
├── smtp_sender.dart       # SMTPメール送信処理
├── settings_screen.dart   # 設定画面（SMTP/部署）
├── product_loader.dart    # 製品・工程・荷姿などのデータローダー
```

---

## 📝 保存されるデータ形式（CSV構成）

1列目: UUID  
2列目: 日付（yyyy-MM-dd）  
3列目: 製品名  
4列目以降: 入力データ（投入量, 再生量, 生産量, 余り, 荷姿, 個数, ロット番号, 開始時刻, 終了時刻, メモ1〜4, 担当者, 部署名）

---

## 📁 外部ファイルの配置場所（読み込み対象）

以下のファイルは内部ストレージ内に配置し、アプリ起動時に自動で読み込まれます。

- `products.txt`：製品名リスト
- `staff.txt`：担当者リスト
- `processes.txt`：工程名リスト
- `packaging.txt`：荷姿リスト

---

## 🧪 今後の機能追加予定（案）

- データのクラウドバックアップ（Google Drive連携など）
- アプリ内グラフ表示（生産量の推移など）
- 認証機能の追加（部署ごとのアクセス管理）

---

## 📮 お問い合わせ・バグ報告

Issue または Pull Request にてご連絡ください。

---

## 📜 ライセンス

このプロジェクトはクローズド環境での業務利用を想定しており、ライセンス設定は未定です。利用希望の際は事前にご相談ください。